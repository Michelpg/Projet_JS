<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kapitalisme</title>
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <link rel="stylesheet" href="page.css">
  <script src="page.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/js-cookie/3.0.1/js.cookie.min.js"></script>
</head>

<body>
  <button onclick="redirigerVersIndex()" style="width: 100%;">Menu</button>

  <div class="top-bar">
    <h1 class="title">Kapitalisme</h1>
    <p class="description">Testez vos connaissances sur les capitales du monde !</p>
  </div>

  <div class="world-map">
    <!-- Contenu de la carte du monde -->
  </div>

  <div class="instructions">
    <select id="selectDifficulty">
      <option value="easy">Facile</option>
      <option value="medium">Moyen</option>
      <option value="hard">Difficile</option>
    </select>
    <select id="selectTheme">
      <option value="general_knowledge">General Knowledge</option>
      <option value="books">Books</option>
      <option value="films">Films</option>
      <option value="music">Music</option>
      <option value="theatre">Theatre</option>
      <option value="television">Television</option>
      <option value="video_games">Video Games</option>
      <option value="board_games">Board Games</option>
      <option value="science&nature">Science and Nature</option>
      <option value="computers">Computers</option>
      <option value="mathematics">Mathematics</option>
      <option value="mythology">Mythology</option>
      <option value="sports">Sports</option>
      <option value="geography">Geography</option>
      <option value="history">History</option>
      <option value="politics">Politics</option>
      <option value="art">Art</option>
      <option value="celebrities">Celebrities</option>
      <option value="animals">Animals</option>
      <option value="vehicles">Vehicles</option>
      <option value="comics">Comics</option>
      <option value="gadgets">Gadgets</option>
      <option value="anime&manga">Anime and Manga</option>
      <option value="cartoons&animation">Cartoons and Animation</option>
    </select>
    <button onclick="commencerQuiz()">Quiz</button>
    <button onclick="commencerQuizCommunaute()">Quiz de la communauté</button>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/js-cookie/3.0.1/js.cookie.min.js"></script>
  <script>
    const themes = {
      "general_knowledge" : 9,
      "books" :10,
      "films":11,
      "music":12,
      "theatre":13,
      "television":14,
      "video_games":15,
      "board_games":16,
      "science&nature":17,
      "computers":18,
      "mathematics":19,
      "mythology":20,
      "sports":21,
      "geography":22,
      "history":23,
      "politics":24,
      "art":25,
      "celebrities":26,
      "animals":27,
      "vehicles":28,
      "comics":29,
      "gadgets":30,
      "anime&manga":31,
      "cartoons&animation":32
    };

    function commencerQuiz() {
      const selectDifficulty = document.getElementById('selectDifficulty').value;
      const selectTheme = document.getElementById('selectTheme').value;
      const themeCode = themes[selectTheme]; // Récupérer le code associé au thème

      console.log("Difficulté sélectionnée :", selectDifficulty);
      console.log("Thème sélectionné :", selectTheme, "Code :", themeCode);

      // Rediriger vers la page du quiz avec les paramètres sélectionnés
      window.location.href = "page_question.html?difficulty=" + selectDifficulty + "&theme=" + themeCode;
    }
    function commencerQuizCommunaute() {
      const selectDifficulty = document.getElementById('selectDifficulty').value;
      const selectTheme = document.getElementById('selectTheme').value;
      const themeCode = themes[selectTheme]; // Récupérer le code associé au thème

      console.log("Difficulté sélectionnée :", selectDifficulty);
      console.log("Thème sélectionné :", selectTheme, "Code :", themeCode);

      // Rediriger vers la page du quiz avec les paramètres sélectionnés
      window.location.href = "page_question_communaute.html?difficulty=" + selectDifficulty + "&theme=" + themeCode;
  }

    // Vérifier la présence du cookie de connexion automatique
    const loggedIn = Cookies.get('loggedInUser');

    // Si l'utilisateur n'est pas connecté automatiquement, afficher les boutons de connexion et d'inscription
    if (loggedIn) {
      console.log("ok")
      const createButton = document.createElement('button');
      createButton.textContent = "Créer un quiz";
      createButton.addEventListener('click', function() {
        redirigerVersPageCreation();
  });
      document.querySelector('.top-bar').appendChild(createButton);
      
    }
  </script>
</body>

</html>
